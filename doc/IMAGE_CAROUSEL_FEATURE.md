# 图片轮播功能说明

## 功能概述

已为 memos 添加了完整的图片轮播和预览功能，提升了多图片展示的用户体验。

## 新增功能

### 1. 图片轮播组件 (ImageCarousel)

当一个 memo 中包含**2张或以上**的图片时，会自动使用轮播方式展示：

#### 特性：
- ✅ **固定高度**：轮播图默认高度 300px，保持整洁美观
- ✅ **鼠标滚轮切换**：在轮播图上滚动鼠标滚轮可循环切换图片
- ✅ **左右箭头按钮**：悬停时显示，点击可切换上/下一张
- ✅ **指示器 (Indicator)**：底部圆点指示器，可点击直接跳转到指定图片
- ✅ **图片计数**：右上角显示当前图片序号 (如 "2 / 5")
- ✅ **悬停提示**：鼠标悬停时显示"滚动切换图片"提示
- ✅ **键盘快捷键**：支持左右箭头键切换图片

### 2. 图片预览组件 (ImagePreview)

点击任意图片可全屏放大查看：

#### 特性：
- ✅ **全屏展示**：黑色半透明背景，图片居中显示
- ✅ **缩放功能**：
  - 点击 + 或 - 按钮缩放
  - 键盘 + / - 快捷键
  - 缩放范围：50% - 500%
- ✅ **旋转功能**：
  - 点击旋转按钮
  - 键盘 R 快捷键
  - 每次旋转 90 度
- ✅ **多图切换**：
  - 左右箭头按钮
  - 键盘左右箭头键
  - 自动循环
- ✅ **重置功能**：一键重置缩放和旋转（按钮或键盘 0）
- ✅ **快速关闭**：
  - 点击背景关闭
  - 点击 X 按钮
  - 键盘 ESC 快捷键

### 3. 单图点击放大

即使只有一张图片，点击后也可以进入全屏预览模式，享受所有预览功能。

## 使用方法

### 测试轮播功能

1. 创建一个新的 memo
2. 在内容中添加多张图片（2张或以上）：
   ```markdown
   这是我的图片集合：
   
   ![图片1](图片地址1)
   ![图片2](图片地址2)
   ![图片3](图片地址3)
   ```

3. 保存后，图片会自动以轮播形式展示

### 操作方式

#### 在轮播图中：
- **滚轮切换**：将鼠标悬停在轮播图上，滚动鼠标滚轮
- **按钮切换**：悬停时点击左右箭头按钮
- **指示器切换**：点击底部的圆点指示器
- **放大查看**：点击图片进入全屏预览

#### 在预览模式中：
- **放大/缩小**：点击 +/- 按钮或使用键盘 +/- 键
- **旋转**：点击旋转按钮或按 R 键
- **切换图片**：点击左右箭头或使用键盘方向键
- **重置**：点击"重置"按钮或按 0 键
- **关闭**：点击背景/X按钮或按 ESC 键

## 技术细节

### 组件文件
- `/src/components/ImageCarousel.jsx` - 轮播组件
- `/src/components/ImagePreview.jsx` - 预览组件
- `/src/components/ContentRenderer.jsx` - 已更新以支持轮播

### 关键特性
- 自动检测图片数量，智能选择展示方式
- 图片懒加载，优化性能
- 支持各种图片格式（data URI、placeholder、远程URL）
- 响应式设计，适配不同屏幕尺寸
- 平滑的动画过渡效果
- 完整的键盘快捷键支持

### 浏览器兼容性
- 现代浏览器（Chrome、Firefox、Safari、Edge）
- 移动设备浏览器

## 快捷键总览

### 轮播图快捷键
- `←` / `→` - 切换上一张/下一张

### 预览模式快捷键
- `←` / `→` - 切换上一张/下一张
- `+` / `=` - 放大
- `-` / `_` - 缩小
- `R` - 旋转 90°
- `0` - 重置缩放和旋转
- `ESC` - 关闭预览

## 注意事项

1. 当 memo 中有 **2张或以上图片** 时，会自动启用轮播模式
2. 单张图片时保持原有展示方式，但支持点击放大
3. 轮播图高度固定为 300px，图片会自动缩放适应
4. 在预览模式中，图片会保持原始比例
5. 所有操作都支持循环（从最后一张切换到第一张）

## 未来改进建议

- [ ] 支持触摸手势（移动端滑动切换）
- [ ] 添加幻灯片自动播放功能
- [ ] 支持图片下载
- [ ] 支持图片分享
- [ ] 添加图片信息显示（大小、格式等）
- [ ] 支持自定义轮播图高度

---

**享受全新的图片浏览体验！** 🎉

